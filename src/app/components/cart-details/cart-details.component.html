<div class="cart-details container-fluid">

  <div *ngIf="cartItems.length > 0">
    <h3>Cart Details:</h3>
    <table id="cart-detail-table" class="table table-bordered">
      <tr>
        <th width="20%">Product Image</th>
        <th width="50%">Product Detail</th>
        <th width="30%">Shop Info</th>
      </tr>

      <tr *ngFor="let cartItem of cartItems" class="text-center">
        <td>
          <a routerLink="/products/{{cartItem.id}}">
            <img src="{{cartItem.imageUrl}}" alt="Image photo">
          </a>
        </td>
        <td>
          <p>{{cartItem.name}}</p>
          <p>{{cartItem.unitPrice | currency:'USD'}}</p>
        </td>
        <td>
          <div class="d-flex flex-column align-content-around">
            <div class="quantity-details d-flex justify-content-around">
              <button (click)="decreaseQuantity(cartItem)" class="btn btn-primary btn-sm">
                <i class="fas fa-minus"></i>
              </button>
              <p>Quantity: {{cartItem.quantity}}</p>
              <button (click)="incrementQuantity(cartItem)" class="btn btn-primary btn-sm">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>
            <button (click)="deleteCartItem(cartItem)" class="btn btn-primary btn-sm mt-3">Remove</button>
            <p style="margin-top: 20px">Subtotal: {{cartItem.quantity * cartItem.unitPrice | currency:'USD'}}</p>
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td style="font-weight: bold;">
          <p>Total Quantity: {{totalQuantity}}</p>
          <p>Total Price: {{totalPrice | currency:'USD'}}</p>
          <p>Shipping: FREE</p>
          <button routerLink="/checkout" class="btn btn-primary">Checkout</button>
        </td>
      </tr>
    </table>
  </div>

  <div *ngIf="cartItems.length == 0" class="alert alert-info text-center">
    There are no items in your cart.
  </div>

</div>

